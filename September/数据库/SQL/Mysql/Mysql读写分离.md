# Mysql 读写分离


## ？？？ 什么是读写分离？

读写分离的基本原理是让主数据库处理事务性增删改操作，而从数据库处理查询操作。数据库复制被用来把事务性操作导致的变更同步到集群的从数据库。


读写分离的实现原理就是在执行SQL语句的时候，判断到底是读操作还是写操作，把读的操作转向到读服务器上（从服务器，一般是多台），写的操作转到写的服务器上（主服务器，一般是一台，视数据量来看）。



## ？？？ 为什么要实现读写分离？

当我们的数据量很大时，数据库服务器的压力变大，这时候我们需要从架构方面来解决这一问题，在一个网站中读的操作很多，写的操作很少，这时候我们需要配置读写分离，把读操作和写操作分离出来，最大程度的利用好数据库服务器。

从而引申出来了有一个mysql的优化技术，主从复制。

主从复制的原理实际是多台服务器都开启bin日志，然后主服务器会把执行过的sql语句记录到bin日志中，之后从服务器读取这个bin日志，把该日志的内容保存到自己中继日志里面，从服务器再把中继日志中记录的sql语句同样的执行一遍。这样从服务器上的数据就和主服务器相同了。

## ??? 什么时候需要用到读写分离?
数据库不一定要读写分离，如果程序使用数据库较多是，而更新少，查询多的情况会考虑使用，利用数据库主从同步。可以减少数据库压力，提高性能。


## Mysql Proxy